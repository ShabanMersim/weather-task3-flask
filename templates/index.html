{% extends "base.html" %}

{% block content %}
{% if warning %}<div class="alert alert-warning">{{ warning }}</div>{% endif %}

<div class="row g-3 align-items-end">
  <div class="col-auto">
    <button id="btnRandom" class="btn btn-primary">Покажи 5 случайни града</button>
  </div>
  <div class="col-auto">
    <input id="cityInput" class="form-control" placeholder="London,GB">
  </div>
  <div class="col-auto">
    <button id="btnCheck" class="btn btn-outline-primary">Провери град</button>
  </div>
  <div class="col-auto">
    <div id="spinner" class="spinner-border text-primary d-none" role="status"></div>
  </div>
</div>

<hr class="my-4">

<div class="card shadow-sm">
  <div class="card-header bg-white"><strong>Резултати</strong></div>
  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-sm align-middle" id="resultsTable">
        <thead>
          <tr>
            <th>Град</th>
            <th>Състояние</th>
            <th class="text-center">Темп. (°C)</th>
            <th class="text-center">Влажност (%)</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
    <div id="statsBox" class="mt-3 d-none">
      <div class="alert alert-info mb-0" id="statsText"></div>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
  window.API_RANDOM = "{{ url_for('api_random') }}";
  window.API_CITY   = "{{ url_for('api_city') }}";
</script>
{% endblock %}
